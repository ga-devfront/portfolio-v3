.fixed-menu {
  position: relative;
  display: flex;
  align-items: center;
  justify-content: flex-end;
  height: 50px;
  font-weight: 500;

  .fixed-menu__logo {
    position: absolute;
    left: 0;
    width: 50px;
    filter: drop-shadow(rgba($primary-300, 1) 0 0 0);
    outline: none;
    transition: 0.3s ease-in-out filter;

    &:hover, &:focus, &:focus-visible {
      filter: drop-shadow(rgba($primary-300, 1) 0 0 0.5rem);
    }
  }

  .fixed-menu__toggle-button {
    display: none;
  }

  .fixed-menu__list {
    position: fixed;
    display: flex;
    align-items: center;
    justify-content: space-evenly;
    margin: 0;
    padding: 0 1rem;
    backdrop-filter: blur(3px);
    background: linear-gradient(180deg, rgba($black, 0.5), rgba($black, 0.2));
    border: 1px solid $primary-100;
    border-radius: $radius-xl;
    box-shadow: rgba($black, 0.5) 0 10px 11px;
    list-style: none;

    .menu-separator {
      width: 2px;
      height: 1.6rem;
      background-color: $white;
      border-radius: $radius-xl;
    }

    .menu-item {
      position: relative;
      margin: 0;
      padding: 0;
      overflow: hidden;

      .menu-item__link {
        position: relative;
        z-index: 1;
        display: inline-block;
        padding: 0.5rem;
        background: radial-gradient(ellipse 50% 0% at bottom, $primary-300, transparent);
        color: rgba($white, 0.7);
        text-decoration: none;
        transition: .2s ease-in-out color;

        .menu-item__text {
          display: block;
          padding: 0 0.5rem;
          background: rgba($primary-300, 0);
          border-radius: $radius-md;
          transition: .3s ease-in-out background;
        }

        &.router-link-active, &:hover, &:focus, &:focus-visible {
          color: rgba($white, 1);
        }

        &.router-link-active {
            color: $primary-100;
        }

        &::before {
          content: '';
          position: absolute;
          top: 0;
          left: 0;
          z-index: -1;
          width: 100%;
          height: 100%;
          background: radial-gradient(ellipse 50% 80% at bottom, $primary-300, transparent), radial-gradient(ellipse 25% 15% at bottom, $primary-100, transparent);
          transform: translateY(100%);
          transition: .4s ease-in-out transform;
        }

        &:hover, &:focus, &:focus-visible {
          &::before {
            transform: translateY(0);
          }
        }
      }
    }

    .menu-lang {
      position: relative;
      display: grid;
      grid-template-areas: "stack";
      grid-template-rows: 1.5rem;
      margin: 0;
      padding: 0.5rem;

      &.menu-lang--open {
        .menu-lang__button {
          background: rgba($grey-900, 0.9);
          border: 1px solid rgba($primary-100, 0.5);
          border-bottom-left-radius: 0;
          border-bottom-right-radius: 0;
          color: $white;
          transition: .3s ease-in-out color, .3s ease-in-out background, .3s ease-in-out border, .1s ease-in-out border-radius;
          border-bottom: none;

          &:hover, &:focus, &:focus-visible {
            background: rgba($grey-900, 0.9);
          }

          .icon-dropdown {
            &::before {
              transform: rotate(180deg);
            }
          }
        }

        .menu-lang__options {
          visibility: visible;
          opacity: 1;
          transform: scaleY(1);
          transition: .3s opacity ease-in-out, .3s visibility ease-in-out, .3s transform ease-in-out .1s;
        }
      }

      .menu-lang__button {
        z-index: 2;
        grid-area: stack;
        align-items: center;
        justify-content: center;
        margin-top: -1px;
        padding: 0 0.5rem;
        background: rgba($primary-100, 0);
        border: 1px solid rgba($primary-100, 0);
        border-radius: $radius-md;
        outline: none;
        color: $primary-100;
        text-align: center;
        cursor: pointer;
        transition: .3s ease-in-out color, .3s ease-in-out background, .3s ease-in-out border, .1s ease-in-out border-radius .1s;
        border-bottom: none;

        &:hover, &:focus, &:focus-visible {
          background: rgba($primary-100, 0.2);
        }

        .icon-dropdown {
          font-size: 1.5rem;
          line-height: 1rem;
          vertical-align: text-bottom;

          &::before {
            display: inline-block;
            grid-template-rows: min-content;
            transform: rotate(0deg);
            transition: .3s ease-in-out transform;
          }
        }
      }

      .menu-lang__options {
        display: grid;
        gap: 0.5rem;
        grid-area: stack;
        align-self: start;
        margin-top: 1.5rem;
        padding: 0.5rem;
        visibility: hidden;
        background: rgba($grey-900, 0.9);
        border: 1px solid rgba($primary-100, 0.5);
        border-bottom-left-radius: $radius-md;
        border-bottom-right-radius: $radius-md;
        box-shadow: rgba($black, 0.5) 0 10px 11px;
        opacity: 0;
        transform: scaleY(0);
        transform-origin: top;
        list-style-type: none;
        text-align: left;
        cursor: pointer;
        transition: .2s opacity ease-in-out, .2s visibility ease-in-out, .2s transform ease-in-out;
        border-top: none;

        .menu-lang__option {
          margin: 0;
          padding: 0 0.5rem;
          list-style: none;
          border-radius: $radius-sm;
          transition: .3s color ease-in-out, .3s background-color ease-in-out;

          &.menu-lang__option--current {
            color: $primary-100;
          }

          &.menu-lang__option--selected, &:hover {
            background-color: rgba($primary-100, 0.2);
          }
        }
      }
    }
  }

  @media screen and (max-width: $breakpoint-md) {
    position: fixed;
    right: 1.25rem;
    left: 1.25rem;
    padding: 0 1rem;
    backdrop-filter: blur(3px);
    background: linear-gradient(180deg, rgba($black, 0.5), rgba($black, 0.2));
    border: 1px solid $primary-100;
    border-radius: $radius-xl;
    box-shadow: rgba($black, 0.5) 0 10px 11px;

    &.fixed-menu--open {
      .fixed-menu__toggle-button {
        background-color: rgba($primary-100, 0.3);

        .fixed-menu__toggle-button-icon {
          transform: rotate(360deg);
        }
      }

      .fixed-menu__list {
        visibility: visible;
        opacity: 1;
        transform: translateY(2rem);
        pointer-events: auto;
        transition: .3s transform ease-in-out, .3s opacity ease-in-out, .3s visibility ease-in-out .1s;
      }
    }

    .fixed-menu__logo {
      left: 20px;
      width: 30px;
    }

    .fixed-menu__toggle-button {
      display: block;
      padding: 0.1rem 0.75rem 0.1rem 1rem;
      background-color: rgba($grey-900, 0.7);
      border: 1px solid rgba($white, 0.5);
      border-radius: $radius-md;
      font-size: 1.2rem;
      color: $white;
      transition: .3s background-color ease-in-out;

      .fixed-menu__toggle-button-icon {
        display: block;
        transform: rotate(0deg);
        transition: .3s transform ease-in-out;
      }
    }

    .fixed-menu__list {
      position: absolute;
      top: 100%;
      right: 0;
      left: 0;
      flex-direction: column;
      align-items: flex-start;
      padding: 0;
      visibility: hidden;
      background-color: rgba($black, 0.8);
      opacity: 0;
      transform: translateY(0);
      pointer-events: none;
      transition: .3s transform ease-in-out, .3s opacity ease-in-out, .3s visibility ease-in-out;

      .menu-item {
        width: 100%;

        .menu-item__link {
          padding: 1rem 0;
          width: 100%;
          text-align: center;
        }
      }

      .menu-separator {
        width: 100%;
        height: 1px;
        background-color: $primary-100;
      }

      .menu-lang {
        margin: 0.5rem auto;
      }
    }
  }
}
